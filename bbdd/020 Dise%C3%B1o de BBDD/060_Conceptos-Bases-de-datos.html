<!DOCTYPE html>
<html lang="es">
<head>
<title>Conceptos utilizados en el dise√±o de las BBDD relacionales</title>
<meta charset="utf-8">
<meta http-equiv="last-modified" content="jue., 12 oct. 2023 19:56:39 GMT">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="http://dww.es/opt/jck/js/DEBUG.js"></script>
<link rel="stylesheet" href="../../opt/jck/css/estilo.css">
</head>
<body>
<article>
<h1>Conceptos utilizados en el dise√±o de las BBDD relacionales</h1>
<ul>
  <li><b><span class="k">Entidad</span></b>: Es es <span class="k">objeto del que se almacena informaci√≥n</span> en la BBDD.<br>
- Por ejemplo, en un taller mec√°nico ser√≠an entidades el autom√≥vil, los mec√°nicos, clientes, las facturas,...</li>
</ul>
<div class="cuadro t1 w7">
<p><span class="wsp"> Cuando implementamos la base de datos, cada entidad dar√° lugar a una <b>tabla</b>.</span></p>
</div>
<ul>
  <li><b><span class="k">Ocurrencia de Entidad</span></b>: Un <span class="k">individuo concreto</span> perteneciente a una entidad, individuo del que estamos almacenando informaci√≥n.<br>
- Por ejemplo, de la entidad autom√≥vil, cada uno de los coches del taller ser√° una ocurrencia de entidad.</li>
</ul>
<div class="cuadro t0 w9">
<p><span class="wsp">    Cuando implementamos la base de datos, cada ocurrencia de entidad dar√° lugar a un <b>registro</b>.</span></p>
</div>
<ul>
  <li><b><span class="k">Atributos</span></b>: Cualquier <span class="k">caracter√≠stica de la entidad</span> de la que vamos a almacenar informaci√≥n.<br>
- Por ejemplo, del autom√≥vil podr√≠an ser atributos: la matr√≠cula, el modelo, el a√±o de fabricaci√≥n, color, la descripci√≥n de la aver√≠a, el propietario, etc.</li>
</ul>
<p>Por otro lado, tenemos los <span class="k">registros</span> y <span class="k">campos</span>:</p>
<ul>
  <li><b><span class="k">Registros</span></b>: es el lugar donde se almacenan los valores concretos de cada
ocurrencia de entidad. Cada registro es un <span class="k">conjunto de valores de atributo</span> para
alguna ocurrencia de entidad.<br>
- Un registro podr√≠a ser: <span class="b">QQZ 1234, Fiat 500, 2017, rojo, fallo en sistema el√©ctico, Julio P√©rez</span>.</li>
</ul>
<ul>
  <li><b><span class="k">Campos</span></b>: Un registro se divide en campos. Un campo es <span class="k">cada uno de los valores de atributo</span>.<br>
Por ejemplo, un campo podr√≠a ser <span class="b">Fiat 500</span>.</li>
</ul>
<h4>El modelo relacional en las matem√°ticas</h4>
<p>Las bases de datos relacionales se basan en un modelo matem√°tico (<i><a href="https://es.wikipedia.org/wiki/%C3%81lgebra_relacional">√°lgebra relacional</a></i>)
desarrollado por <a href="https://es.wikipedia.org/wiki/Edgar_Frank_Codd">Frank Codd</a> en 1970.</p>
<p><img src="img/edgar-frank-codd.png" class=""></p>
<p>En este modelo la <b>base de datos</b> es percibida por el usuario como un <b>conjunto de tablas</b>
bidimensionales para almacenamiento de datos, y unas <b>relaciones</b> entre tablas que se
establecen a trav√©s de alguno de sus atributos.</p>
<pre class="nota w8"><b><u>Relaci√≥n Matem√°tica</u></b>
En el modelo matem√°tico las tablas se denominan <span class="k">relaciones</span> y las filas <span class="b">tuplas</span>.

El nombre de modelo relacional viene del concepto matem√°tico de relaci√≥n:
	<i>una relaci√≥n entre estos dos conjuntos A y B es cualquier subconjunto del producto cartesiano AxB</i>.
<span class="wsp">
<span class="k">Gente</span> = <span class="rr">{</span>  <span class="b">{</span>Ana,28<span class="b">}</span>,  <span class="b">{</span>Luis,24<span class="b">}</span>,  <span class="b">{</span>Felipe,28<span class="b">}</span>,  <span class="b">{</span>Marta,44<span class="b">}</span>  <span class="rr">}</span> 
<span class="k">Provincias</span> = <span class="rr">{</span>  <span class="b">{</span>28,Madrid<span class="b">}</span>,  <span class="b">{</span>44,Teruel<span class="b">}</span>,  <span class="b">{</span>24,Le√≥n<span class="b">}</span>  <span class="rr">}</span> 

	- El producto cartesiano son todas las combinaciones posibles con los elementos de los conjuntos:
<span class="k">Gente</span> X <span class="k">Provincias</span> = <span class="rr">{</span>
   <span class="b">{</span>Ana,28, 28,Madrid<span class="b">}</span>, <span class="b">{</span>Luis,24, 28,Madrid<span class="b">}</span>, <span class="b">{</span>Felipe,28, 28,Madrid<span class="b">}</span>, <span class="b">{</span>Marta,44, 28,Madrid<span class="b">}</span>
   <span class="b">{</span>Ana,28, 44,Teruel<span class="b">}</span>,  <span class="b">{</span>Luis,24, 44,Teruel<span class="b">}</span>,  <span class="b">{</span>Felipe,28, 44,Teruel<span class="b">}</span>,  <span class="b">{</span>Marta,44, 44,Teruel<span class="b">}</span>
   <span class="b">{</span>Ana,28, 24,Le√≥n<span class="b">}</span>,    <span class="b">{</span>Luis,24, 24,Le√≥n<span class="b">}</span>,    <span class="b">{</span>Felipe,28, 24,Le√≥n<span class="b">}</span>,    <span class="b">{</span>Marta,44, 24,Le√≥n<span class="b">}</span>
<span class="rr">}</span>
	- Una relaci√≥n es un subconjunto del producto cartesiano:
<span class="k">Relaci√≥n-Guay</span> = <span class="rr">{</span> <span class="b">{</span>Ana,28, 28,Madrid<span class="b">}</span>, <span class="b">{</span>Luis,24, 24,Le√≥n<span class="b">}</span>, <span class="b">{</span>Felipe,28, 28,Madrid<span class="b">}</span>, <span class="b">{</span>Marta,44, 44,Teruel<span class="b">}</span>  <span class="rr">}</span></span>

<b><u>Grado y cardinalidad</u></b>
El <span class="k">grado</span> es el n√∫mero de atributos de una tabla y la <span class="k">cardinalidad</span> el n√∫mero de elementos de un conjunto:
	<span class="k">Gente</span>: grado 2, cardinalidad 4
	<span class="k">Provincias</span>: grado 2, cardinalidad 3
	<span class="k">Gente x Provincias</span>: grado 2+2 = 4, cardinalidad 4x3 = 12
	<span class="k">Relaci√≥n-Guay</span>: grado 4, cardinalidad 4</pre>
<p>Se establecen los conceptos de:</p>
<ul>
  <li><b><span class="k">dominio</span></b>: Es el conjunto de <span class="k">todos los valores</span> que puede tomar un determinado atributo.<br>
- Por ejemplo, el dominio del atributo "modelo" son todos los modelos de coches del mercado.<br>
<span class="wsp">  </span>El dominio para el atributo "sexo" podr√≠a ser { "M", "F" }.</li>
</ul>
<pre class="notaB w7"><span class="k">Una caracter√≠stica fundamental de los dominios es que sean <b>at√≥micos</b>, es decir, que los valores
contenidos en los atributos no se pueden separar en valores de dominios m√°s simples.</span>
	- Si una persona tiene dos viviendas, podemos crear dos atributos "Direcci√≥n", "Direcci√≥n-2".
	- Pero si estamos guardando informaci√≥n de la vivienda, crearemos dos registros.
	- Y siempre nos quedar√° la opci√≥n de crear un atributo "Observaciones".</pre>
<ul>
  <li><b><span class="k">clave</span></b>: Una clave es un <span class="k">atributo o conjunto de atributos</span> que <span class="k">identifica de forma √∫nica</span> a un registro.<br>
- Por ejemplo, el atributo "matr√≠cula" es un campo clave, tambi√©n el atributo "n¬∫ de bastidor" podr√≠a ser clave.<br>
- Para un mec√°nico el [DNI] podr√≠a ser clave, tambi√©n el [n¬∫ afiliaci√≥n SS] podr√≠a ser clave.<br>
<span class="wsp">  Tambi√©n su [nombre] y [apellidos] podr√≠a ser clave, si no contratamos a otro que se llame igual. 
  O podr√≠amos generar nosotros nuestro propio [c√≥digo de identificadi√≥n] para cada mec√°nico.</span></li>
</ul>
<p><span class="wsp">          </span><big>üëâ</big> <span class="k">El atributo (o atributos) que act√∫a como clave no puede repetirse.</span></p>
<ul>
  <li><b><span class="k">clave primaria</span></b> y <b><span class="k">claves alternativas</span></b>: Cuando dise√±emos una BBDD
seleccionaremos <span class="k">una √∫nica clave</span> para cada tabla, que denominaremos <i>clave primaria</i>.
Al resto de posibles claves las denominaremos <i>claves alternativas</i>.</li>
</ul>
<div class="nota w7 t1">
<p>El SGBD convierte la clave primaria en <b>atributo √≠ndice</b>. Luego, nosotros podremos definir
otros atributos como <i>√≠ndice</i> para agilizar las b√∫squedas a trav√©s de ese atributo.</p>
</div>
<ul>
  <li><b><span class="k">relaciones</span></b>: Existe una relaci√≥n entre tablas cuando √©stas <span class="k">comparten alg√∫n atributo</span>,
que suele ser clave en una de ellas.</li>
</ul>
<ul>
  <li><b><span class="k">clave for√°nea</span></b> o <b><span class="k">clave ajena</span></b>: Cuando una tabla <span class="k">recibe la clave de otra tabla a trav√©s
de una relaci√≥n</span>, a ese atributo se lo denomina clave ajena o for√°nea.</li>
</ul>
<div class="cuadro lh3 fs01">
<p><span class="bb">Diagrama Entidad-Relaci√≥n:</span>
<img src="img/E-R_Personas-Provincias_1.png" class=""></p>
<p>El atributo <span class="r">cp</span> que es clave en la tabla de PROVINCIAS, va a aparecer en la tabla de PERSONAS, para
conocer en qu√© provincia vive cada individuo:</p>
<p><span class="bb">Tablas:</span>
<br><span class="tab"><span class="icon"></span>PROVINCIAS = { <u><span class="r">cp</span></u>, nombreProv }<span class="wsp">                                     <big>‚Üê</big>  <span class="r">cp</span> es clave en PROVINCIAS</span></span><br>
<span class="tab"><span class="icon"></span>PERSONAS = { <u>DNI</u>, fecNac, apellidos, nombre, <span class="r">cp (f)</span> }<span class="wsp">     <big>‚Üê</big> <span class="r">cp</span> es clave for√°nea en PERSONAS</span></span>
</p>
</div>
<p>Cuando dise√±emos nuestra BBDD impondremos unas ...</p>
<ul>
  <li><b><span class="k">restricciones de integridad</span></b>: <span class="k">condiciones que deben cumplir los datos</span>,
seg√∫n las necesidades de nuestro modelo basado en la realidad.</li>
</ul>
<p>Por ejemplo, podemos exigir que la edad de una persona no supere los 130 a√±os, o que el
campo de apellidos no quede en blanco. O que una matr√≠cula tenga el formato "AAA 9999"</p>
<p>Un ejemplo de restricci√≥n de integridad que <b>siempre</b> debe cumplirse es la llamada ...</p>
<ul>
  <li><b><span class="k">integridad referencial</span></b>: Todos los valores que tome una clave for√°nea <span class="r">X</span>, deben tener su correspondencia en la tabla donde <span class="r">X</span> es clave.</li>
</ul>
<p>Por ejemplo, el siguiente registro no cumplir√≠a la integridad referencial:</p>
<div class="up">
<p>
<span class="tab"><span class="icon"></span>("5199255X", "1/1/2001", "Montero Monte", "Matilde", 328)</span>
</p>
</div>
<p>porque no hay ninguna provincia con c√≥digo 328 (suponemos son n√∫meros del 1 al 52).<br><br><br><br><br><br>&nbsp;</p>
</article>
</body>
</html>